<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Step 1: Start</title>
    <!-- 개발버전, 도움되는 콘솔 경고를 포함. -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  </head>

  <body>
    <!-- Step 1: 선언적 렌더링 -->
    <div id="app">{{message}}{{subMsg}}</div>
    <!-- Step 2: 디렉티브(Directive) -->
    <div
      id="app-2"
      class="hi"
      name="akakak"
      data-idx="1234"
      data-idx2="1234"
      data-idx3="1234"
      data-idx4="1234"
    >
      <span v-bind:title="message"
        >내 위에 잠시 마우스를 올리면 동적으로 바인딩 된 title을 볼 수
        있습니다!</span
      >
    </div>
    <!-- Step 3: 조건문 -->
    <div id="app-3">
      <p v-if="seen">이제 나를 볼 수 있어요</p>
    </div>
    <!-- Step 4: 반복문 -->
    <div id="app-4">
      <ol>
        <li v-for="todo in todos">{{todo.text}}</li>
      </ol>
    </div>
    <!-- Step 5: 사용자 입력 핸들링 -->
    <div id="app-5">
      <p>{{ message }}</p>
      <button v-on:click="reverseMessage">메시지 뒤집기</button>
    </div>
    <!-- Step 6: 양방향 바인딩 -->
    <div id="app-6">
      <p>{{ message }}</p>
      <input type="text" v-model="message" />
    </div>
    <!-- Step 7: 컴포넌트 -->
    <div id="app-7">
      <ol>
        <todo-item
          v-for="item in groceryList"
          v-bind:todo="item"
          v-bind:key="item.id"
          >{{ item.id }}</todo-item
        >
      </ol>
    </div>
  </body>

  <script>
    // Step 1: 선언적 렌더링 >>> 데이터와 Dom이 연결
    const app = new Vue({
      el: '#app',
      data: {
        message: '안녕하세요. Vue!!!!!',
        subMsg: '',
      },
    });
    // Step 2: 디렉티브(Directive) >>> Vue에서 제공하는 특수 속성 'v-' 접두어 붙음,
    // 렌더링된 Dom에 특수한 반응형 동작 수행
    const app2 = new Vue({
      el: '#app-2',
      data: {
        message: '이 페이지는' + new Date() + ' 에 로드 되었습니다.',
      },
    });
    // Step 3: 조건문 >>> Dom 구조에 데이터를 바인딩 할 수 있음
    const app3 = new Vue({
      el: '#app-3',
      data: {
        seen: Math.round(Math.random()),
      },
    });

    // Step 4: 반복문 >>> Dom 구조에 배열값을 바인딩 한 후 반복하여 생성할 수 있음
    // 사용자가 앱과 상호 작용할 수 있게 하기 위하여 'v-on' 디렉티브 제공
    const app4 = new Vue({
      el: '#app-4',
      data: {
        todos: [
          {
            text: 'Step 1',
          },
          {
            text: 'Step 2',
          },
          {
            text: 'Step 3',
          },
        ],
      },
    });
    // Dom에 연결된 Vue 객체에 데이터를 변경함으로써 전환 효과 가능
    app4.todos.pop();
    app4.todos.unshift({
      text: 'Step 0',
    });

    // Step 5: 사용자 입력 핸들링 >>> 사용자가 앱과 상호 작용할 수 있음
    // 모든 Dom 조작은 Vue에 의해 처리되며 작성한 코드는 기본 로직에만 초점을 맞춤
    // 양식에 대한 입력과 앱 상태를 양방향으로 바인딩 하는 'v-model' 디렉티브 제공
    const app5 = new Vue({
      el: '#app-5',
      data: {
        message: '안녕하세요. 입력 핸들링 테스트입니다.',
      },
      methods: {
        reverseMessage: function () {
          this.message = this.message.split('').reverse().join('');
        },
      },
    });

    // Step 6: 사용자 입력 핸들링 >>> 양방향 바인딩
    const app6 = new Vue({
      el: '#app-6',
      data: {
        message: '양방향 바인딩 예제입니다.',
      },
    });
    // Step 7: 컴포넌트
    Vue.component('todo-item', {
      props: ['todo'],
      template: '<li>{{todo.text}} ★ {{todo.msg}}</li>',
    });

    const app7 = new Vue({
      el: '#app-7',
      data: {
        groceryList: [
          {
            id: 0,
            text: 'First Txt',
            msg: 'One',
          },
          {
            id: 1,
            text: 'Second Txt',
            msg: 'Two',
          },
          {
            id: 2,
            text: 'Third Txt',
            msg: 'Three',
          },
        ],
      },
    });
  </script>
</html>
